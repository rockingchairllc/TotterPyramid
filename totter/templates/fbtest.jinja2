 <html  xmlns:fb="http://www.facebook.com/2008/fbml">
    <head>
      <title>My Facebook Login Page</title>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.js"></script>
      <script src="http://connect.facebook.net/en_US/all.js"></script>
      <script src="{{request.static_url('totter:static/jquery-facebook-multi-friend-selector/jquery.facebook.multifriend.select.js')}}"></script>
        <link rel="stylesheet" href="{{request.static_url('totter:static/jquery-facebook-multi-friend-selector/jquery.facebook.multifriend.select.css')}}" />
    </head>
    <body>
       
      <div id="fb-root"></div>
      <div id="jfmfs-container"></div>
      <script>
        window.fbAsyncInit = function() {
        FB.Flash.hasMinVersion = function () { return false; };
        FB.init({
            appId      : '{{app_id}}',
            channelUrl : '//letstotter.com/static/channel.php',
            status     : true, 
            cookie     : true,
            oauth      : false,
            xfbml      : true
        });
        
        console.log("this will be run once FB is initialized");
        FB.Event.subscribe('auth.login', function () {
                $("#jfmfs-container").jfmfs();
            });
        };
        (function(d){
        var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        d.getElementsByTagName('head')[0].appendChild(js);
        }(document));
         
      </script>
      <div>{{message}}</div>
      <fb:login-button scope="email"></fb:login-button>
      -->
      <!--
      <div>{{message}}</div>
      <button button onclick="login()">Login</button>
      <div id="jfmfs-container"></div>
    <script> 
    function displayUser(user) {
        var userName = document.getElementById('userName');
        var greetingText = document.createTextNode('Greetings, '
        + user.name + '.');
        userName.appendChild(greetingText);
    }
    function login() {
        
        var appID = "{{app_id}}";
        if (window.location.hash.length == 0) {
            var path = 'https://www.facebook.com/dialog/oauth?';
            var queryParams = ['client_id=' + appID,
            'redirect_uri=' + window.location,
            'response_type=token',
            'scope=email',
            
            ];
            var query = queryParams.join('&');
            var url = path + query;
            window.location = url;
        } else {
            $("#jfmfs-container").jfmfs();
            var accessToken = window.location.hash.substring(1);
            var path = "https://graph.facebook.com/me?";
            var queryParams = [accessToken, 'callback=displayUser'];
            var query = queryParams.join('&');
            var url = path + query;
            
            // use jsonp to call the graph
            var script = document.createElement('script');
            script.src = url;
            document.body.appendChild(script);        
        }
    }
    </script> 
   <p id="userName"></p> 
-->
    </body>
 </html>